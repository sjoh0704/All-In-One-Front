{"ast":null,"code":"import _defineProperty from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{ListGroup,Container,Row,Col}from\"react-bootstrap\";import Title from\"./Title\";import{useSelector}from\"react-redux\";import placeholder from\"../assets/images/placeholder2.jpg\";import good from\"../assets/images/good.png\";import bad from\"../assets/images/bad.png\";import EmptyCheck from\"./EmptyCheck\";import{CategoryDirection}from\"./CategoryBanner\";import{setMoney,setDate}from\"./Convenient\";import Modal from\"./Modal\";import Rating from\"./Rating\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PurchaseList(_ref){var history=_ref.history;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),modalContents=_useState4[0],setModalContents=_useState4[1];var closeModal=function closeModal(){setModalOpen(false);};var products=[];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),orders=_useState6[0],setOrders=_useState6[1];var _useSelector=useSelector(function(state){return{isLoggedIn:state.user.isLoggedIn,userData:state.user.payload};}),isLoggedIn=_useSelector.isLoggedIn,userData=_useSelector.userData;var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),flag=_useState8[0],setFlag=_useState8[1];var fetchUserInfo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId,orderId){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/apis/v1/user/\"+userId);case 2:res=_context.sent;setModalOpen(true);data=res.data.payload;setModalContents(/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Rating,{user:data}),/*#__PURE__*/_jsx(Row,{style:{marginTop:20},children:/*#__PURE__*/_jsxs(Col,{children:[\"\\uC774\\uBA54\\uC77C: \",data.useremail]})}),/*#__PURE__*/_jsx(Row,{style:{marginTop:20},children:/*#__PURE__*/_jsxs(Col,{children:[\"\\uACC4\\uC815 \\uC0DD\\uC131\\uC77C: \",setDate(data.created_at)]})}),/*#__PURE__*/_jsxs(Row,{style:{marginTop:20},children:[/*#__PURE__*/_jsxs(Col,{lg:{span:4,offset:2},sm:{span:4,offset:2},xs:{span:4,offset:2},children:[/*#__PURE__*/_jsx(\"img\",{style:{width:30,height:30},src:good,onClick:function onClick(){return evaluateSellerGood(userId,orderId);}}),/*#__PURE__*/_jsx(\"button\",{style:{background:\"white\",color:\"green\"},onClick:function onClick(){return evaluateSellerGood(userId,orderId);},children:\"\\uC88B\\uC544\\uC694!\"})]}),/*#__PURE__*/_jsxs(Col,{lg:{span:4},sm:{span:4},xs:{span:4},children:[/*#__PURE__*/_jsx(\"img\",{style:{width:30,height:30},src:bad,onClick:function onClick(){return evaluateSellerBad(userId,orderId);}}),/*#__PURE__*/_jsx(\"button\",{style:{background:\"white\",color:\"red\"},onClick:function onClick(){return evaluateSellerBad(userId,orderId);},children:\"\\uC2EB\\uC5B4\\uC694!\"})]})]})]}));case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchUserInfo(_x,_x2){return _ref2.apply(this,arguments);};}();var evaluateSellerGood=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userId,orderId){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/apis/v1/ratings/\".concat(userId,\"/up\"));case 2:_context2.next=4;return axios.post(\"/apis/v1/order/\".concat(orderId),{rating_check:true});case 4:setModalOpen(false);setFlag(!flag);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function evaluateSellerGood(_x3,_x4){return _ref3.apply(this,arguments);};}();var evaluateSellerBad=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(userId,orderId){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"/apis/v1/ratings/\".concat(userId,\"/down\"));case 2:_context3.next=4;return axios.post(\"/apis/v1/order/\".concat(orderId),{rating_check:true});case 4:setModalOpen(false);setFlag(!flag);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function evaluateSellerBad(_x5,_x6){return _ref4.apply(this,arguments);};}();var fetchOrders=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res,tmp_order,orderlist;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"/apis/v1/order/\"+userData.user_id);case 2:res=_context4.sent;tmp_order=res.data.payload.filter(function(order){return order.sales_stage==\"SO\";});orderlist=tmp_order.map(function(order,index){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{style:{margin:30},children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",lg:\"5\",xs:\"12\",children:/*#__PURE__*/_jsx(\"img\",{style:_defineProperty({height:\"auto\",maxWidth:\"100%\"},\"height\",\"auto\"),src:order.base64_image_url?order.base64_image_url:placeholder})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",lg:{span:6,offset:1},xs:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:10},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"1.5rem\",fontWeight:\"bold\"},children:order.name}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.3rem\"},children:[\"\\uAD6C\\uB9E4\\uB7C9: \",order.demand_quantity]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.3rem\"},children:[\"\\uC9C0\\uBD88 \\uAE08\\uC561: \",setMoney(order.price),\" \\u20A9\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.3rem\"},children:[\"\\uC8FC\\uBB38 \\uB0A0\\uC9DC: \",setDate(order.created_at)]}),!order.rating_check?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"1.3rem\",color:\"blue\"},children:\"\\uD310\\uB9E4\\uC790\\uC758 \\uB9E4\\uB108\\uB97C \\uD3C9\\uAC00\\uD574\\uBCFC\\uAE4C\\uC694?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"emptyButton\",onClick:function onClick(){return fetchUserInfo(order.seller_id,order.order_id);},style:{height:\"4rem\",fontSize:\"1.3rem\"},children:\"\\uB9E4\\uB108 \\uD3C9\\uAC00\\uD558\\uAE30\"})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"1.3rem\",color:\"green\"},children:\"\\uB9E4\\uB108 \\uD3C9\\uAC00\\uB97C \\uC644\\uB8CC\\uD588\\uC2B5\\uB2C8\\uB2E4.\"})})]})})]})},index);});setOrders(orderlist);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchOrders(){return _ref5.apply(this,arguments);};}();useEffect(function(){fetchOrders();},[userData.user_id,flag]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{open:modalOpen,close:closeModal,children:modalContents}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(CategoryDirection,{tag1:\"구매 목록\"}),/*#__PURE__*/_jsx(EmptyCheck,{text:\"구매한 상품이 없습니다\",items:orders})]})]});}export default PurchaseList;","map":{"version":3,"sources":["/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/src/components/PurchaseList.js"],"names":["React","useState","useEffect","axios","ListGroup","Container","Row","Col","Title","useSelector","placeholder","good","bad","EmptyCheck","CategoryDirection","setMoney","setDate","Modal","Rating","PurchaseList","history","modalOpen","setModalOpen","modalContents","setModalContents","closeModal","products","orders","setOrders","state","isLoggedIn","user","userData","payload","flag","setFlag","fetchUserInfo","userId","orderId","get","res","data","marginTop","useremail","created_at","span","offset","width","height","evaluateSellerGood","background","color","evaluateSellerBad","post","rating_check","fetchOrders","user_id","tmp_order","filter","order","sales_stage","orderlist","map","index","margin","maxWidth","base64_image_url","paddingTop","fontSize","fontWeight","name","demand_quantity","price","seller_id","order_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { ListGroup, Container, Row, Col } from \"react-bootstrap\";\nimport Title from \"./Title\";\nimport { useSelector } from \"react-redux\";\nimport placeholder from \"../assets/images/placeholder2.jpg\";\nimport good from \"../assets/images/good.png\";\nimport bad from \"../assets/images/bad.png\";\n\nimport EmptyCheck from \"./EmptyCheck\";\nimport { CategoryDirection } from \"./CategoryBanner\";\nimport { setMoney, setDate } from \"./Convenient\";\nimport Modal from \"./Modal\";\nimport Rating from \"./Rating\";\n\nfunction PurchaseList({ history }) {\n    const [modalOpen, setModalOpen] = useState(false);\n    const [modalContents, setModalContents] = useState(\"\");\n    const closeModal = () => {\n        setModalOpen(false);\n    };\n    var products = [];\n    const [orders, setOrders] = useState([]);\n    const { isLoggedIn, userData } = useSelector((state) => ({\n        isLoggedIn: state.user.isLoggedIn,\n        userData: state.user.payload,\n    }));\n    const [flag, setFlag] = useState(true);\n\n    const fetchUserInfo = async (userId, orderId) => {\n        let res = await axios.get(\"/apis/v1/user/\" + userId);\n        setModalOpen(true);\n        let data = res.data.payload;\n        setModalContents(\n            <Container>\n                <Rating user={data}></Rating>\n                <Row style={{ marginTop: 20 }}>\n                    <Col>이메일: {data.useremail}</Col>\n                </Row>\n                <Row style={{ marginTop: 20 }}>\n                    <Col>계정 생성일: {setDate(data.created_at)}</Col>\n                </Row>\n                <Row style={{ marginTop: 20 }}>\n                    <Col\n                        lg={{ span: 4, offset: 2 }}\n                        sm={{ span: 4, offset: 2 }}\n                        xs={{ span: 4, offset: 2 }}\n                    >\n                        <img\n                            style={{ width: 30, height: 30 }}\n                            src={good}\n                            onClick={() => evaluateSellerGood(userId, orderId)}\n                        ></img>\n                        <button\n                            style={{ background: \"white\", color: \"green\" }}\n                            onClick={() => evaluateSellerGood(userId, orderId)}\n                        >\n                            좋아요!\n                        </button>\n                    </Col>\n                    <Col lg={{ span: 4 }} sm={{ span: 4 }} xs={{ span: 4 }}>\n                        <img\n                            style={{ width: 30, height: 30 }}\n                            src={bad}\n                            onClick={() => evaluateSellerBad(userId, orderId)}\n                        ></img>\n                        <button\n                            style={{ background: \"white\", color: \"red\" }}\n                            onClick={() => evaluateSellerBad(userId, orderId)}\n                        >\n                            싫어요!\n                        </button>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    };\n\n    const evaluateSellerGood = async (userId, orderId) => {\n        await axios.get(`/apis/v1/ratings/${userId}/up`);\n        await axios.post(`/apis/v1/order/${orderId}`, { rating_check: true });\n\n        setModalOpen(false);\n        setFlag(!flag);\n    };\n    const evaluateSellerBad = async (userId, orderId) => {\n        await axios.get(`/apis/v1/ratings/${userId}/down`);\n        await axios.post(`/apis/v1/order/${orderId}`, { rating_check: true });\n        setModalOpen(false);\n        setFlag(!flag);\n    };\n\n    const fetchOrders = async () => {\n        let res = await axios.get(\"/apis/v1/order/\" + userData.user_id);\n        let tmp_order = res.data.payload.filter(\n            (order) => order.sales_stage == \"SO\"\n        );\n\n        let orderlist = tmp_order.map((order, index) => {\n            return (\n                <ListGroup.Item key={index}>\n                    <Row style={{ margin: 30 }}>\n                        <Col sm=\"6\" lg=\"5\" xs=\"12\">\n                            <img\n                                style={{\n                                    height: \"auto\",\n                                    maxWidth: \"100%\",\n                                    height: \"auto\",\n                                }}\n                                src={\n                                    order.base64_image_url\n                                        ? order.base64_image_url\n                                        : placeholder\n                                }\n                            ></img>\n                        </Col>\n                        <Col sm=\"6\" lg={{ span: 6, offset: 1 }} xs=\"12\">\n                            <div style={{ paddingTop: 10 }}>\n                                <p\n                                    style={{\n                                        fontSize: \"1.5rem\",\n                                        fontWeight: \"bold\",\n                                    }}\n                                >\n                                    {order.name}\n                                </p>\n                                <p style={{ fontSize: \"1.3rem\" }}>\n                                    구매량: {order.demand_quantity}\n                                </p>\n                                <p style={{ fontSize: \"1.3rem\" }}>\n                                    지불 금액: {setMoney(order.price)} ₩\n                                </p>\n                                <p style={{ fontSize: \"1.3rem\" }}>\n                                    주문 날짜: {setDate(order.created_at)}\n                                </p>\n                                {!order.rating_check ? (\n                                    <div>\n                                        <p\n                                            style={{\n                                                fontSize: \"1.3rem\",\n                                                color: \"blue\",\n                                            }}\n                                        >\n                                            판매자의 매너를 평가해볼까요?\n                                        </p>\n                                        <button\n                                            className=\"emptyButton\"\n                                            onClick={() =>\n                                                fetchUserInfo(\n                                                    order.seller_id,\n                                                    order.order_id\n                                                )\n                                            }\n                                            style={{\n                                                height: \"4rem\",\n                                                fontSize: \"1.3rem\",\n                                            }}\n                                        >\n                                            매너 평가하기\n                                        </button>\n                                    </div>\n                                ) : (\n                                    <div>\n                                        <p\n                                            style={{\n                                                fontSize: \"1.3rem\",\n                                                color: \"green\",\n                                            }}\n                                        >\n                                            매너 평가를 완료했습니다.\n                                        </p>\n                                    </div>\n                                )}\n                            </div>\n                        </Col>\n                    </Row>\n                </ListGroup.Item>\n            );\n        });\n\n        setOrders(orderlist);\n    };\n\n    useEffect(() => {\n        fetchOrders();\n    }, [userData.user_id, flag]);\n\n    return (\n        <div>\n            <Modal open={modalOpen} close={closeModal}>\n                {modalContents}\n            </Modal>\n\n            <Container>\n                <CategoryDirection tag1={\"구매 목록\"}></CategoryDirection>\n                <EmptyCheck\n                    text={\"구매한 상품이 없습니다\"}\n                    items={orders}\n                ></EmptyCheck>\n            </Container>\n        </div>\n    );\n}\n\nexport default PurchaseList;\n"]},"metadata":{},"sourceType":"module"}