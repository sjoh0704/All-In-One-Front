{"ast":null,"code":"import _regeneratorRuntime from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{setCategory}from\"../modules/category\";import axios from\"axios\";import Carousel from\"react-bootstrap/Carousel\";import{Container,Navbar,Spinner}from\"react-bootstrap\";import Loading from\"./Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],Setproducts=_useState2[1];var dispatch=useDispatch();var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,product_list;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/apis/v1/product\");case 2:res=_context.sent;product_list=res.data.payload.filter(function(p){return p.valid===true;});product_list=product_list.map(function(data){return _objectSpread(_objectSpread({},data),{},{id:data.pk});});Setproducts(product_list);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();var fetchCategory=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,category_list;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/apis/v1/category\");case 2:res=_context2.sent;category_list=res.data.map(function(data){return{kind:data.fields.kind,pk:data.pk};});dispatch(setCategory(category_list));case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchCategory(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchProducts();fetchCategory();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ControlledCarousel,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:30}}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC624\\uB298\\uC758 \\uC0C1\\uD488 \\uCD94\\uCC9C\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Loading,{products:products})]})]})});}function ControlledCarousel(){var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var handleSelect=function handleSelect(selectedIndex,e){setIndex(selectedIndex);};return/*#__PURE__*/_jsxs(Carousel,{activeIndex:index,onSelect:handleSelect,children:[/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:\"https://img.lovepik.com//back_pic/05/72/43/975bbd3c7e54c21.jpg_wh860.jpg\",alt:\"First slide\",style:{minWidth:\"100%\",height:\"30rem\"}}),/*#__PURE__*/_jsx(Carousel.Caption,{})]}),/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:\"https://image.freepik.com/free-vector/the-interior-of-mall-banner-scene-inside-a-shopping-store-at-night_93732-21.jpg\",alt:\"Second slide\",style:{minWidth:\"100%\",height:\"30rem\"}}),/*#__PURE__*/_jsx(Carousel.Caption,{})]}),/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:\"https://i.pinimg.com/originals/b9/42/dd/b942dd80ac8cba56dd90dc539d2040c0.jpg\",alt:\"Third slide\",style:{minWidth:\"100%\",height:\"30rem\"}}),/*#__PURE__*/_jsx(Carousel.Caption,{})]})]});}","map":{"version":3,"sources":["/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/src/components/Home.js"],"names":["React","useEffect","useState","useSelector","useDispatch","setCategory","axios","Carousel","Container","Navbar","Spinner","Loading","Home","props","products","Setproducts","dispatch","fetchProducts","get","res","product_list","data","payload","filter","p","valid","map","id","pk","fetchCategory","category_list","kind","fields","marginTop","ControlledCarousel","index","setIndex","handleSelect","selectedIndex","e","minWidth","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setCategory } from \"../modules/category\";\nimport axios from \"axios\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport { Container, Navbar, Spinner } from \"react-bootstrap\";\nimport Loading from \"./Loading\";\n\nexport default function Home(props) {\n    const [products, Setproducts] = useState([]);\n\n    const dispatch = useDispatch();\n    const fetchProducts = async () => {\n        let res = await axios.get(\"/apis/v1/product\");\n        let product_list = res.data.payload.filter((p) => p.valid === true);\n        product_list = product_list.map((data) => {\n            return {\n                ...data,\n                id: data.pk,\n            };\n        });\n        Setproducts(product_list);\n    };\n\n    const fetchCategory = async () => {\n        let res = await axios.get(\"/apis/v1/category\");\n\n        let category_list = res.data.map((data) => {\n            return {\n                kind: data.fields.kind,\n                pk: data.pk,\n            };\n        });\n        dispatch(setCategory(category_list));\n    };\n\n    useEffect(() => {\n        fetchProducts();\n        fetchCategory();\n    }, []);\n\n    return (\n        <div>\n            <div>\n                <ControlledCarousel />\n\n                <br />\n                <Container>\n                    <div style={{ marginTop: 30 }} />\n                    <h3>오늘의 상품 추천</h3>\n\n                    <hr />\n                    <Loading products={products} />\n                </Container>\n            </div>\n        </div>\n    );\n}\n\nfunction ControlledCarousel() {\n    const [index, setIndex] = useState(0);\n\n    const handleSelect = (selectedIndex, e) => {\n        setIndex(selectedIndex);\n    };\n    return (\n        <Carousel activeIndex={index} onSelect={handleSelect}>\n            <Carousel.Item>\n                <img\n                    className=\"d-block w-100\"\n                    src=\"https://img.lovepik.com//back_pic/05/72/43/975bbd3c7e54c21.jpg_wh860.jpg\"\n                    alt=\"First slide\"\n                    style={{\n                        minWidth: \"100%\",\n                        height: \"30rem\",\n                    }}\n                />\n                <Carousel.Caption>\n                    {/* <h3>First slide label</h3>\n                    <p>First slide label ~~~~</p> */}\n                </Carousel.Caption>\n            </Carousel.Item>\n            <Carousel.Item>\n                <img\n                    className=\"d-block w-100\"\n                    src=\"https://image.freepik.com/free-vector/the-interior-of-mall-banner-scene-inside-a-shopping-store-at-night_93732-21.jpg\"\n                    alt=\"Second slide\"\n                    style={{\n                        minWidth: \"100%\",\n                        height: \"30rem\",\n                    }}\n                />\n\n                <Carousel.Caption>\n                    {/* <h3>Second slide label</h3>\n                    <p>아무거나 적어 </p> */}\n                </Carousel.Caption>\n            </Carousel.Item>\n            <Carousel.Item>\n                <img\n                    className=\"d-block w-100\"\n                    src=\"https://i.pinimg.com/originals/b9/42/dd/b942dd80ac8cba56dd90dc539d2040c0.jpg\"\n                    alt=\"Third slide\"\n                    style={{\n                        minWidth: \"100%\",\n                        height: \"30rem\",\n                    }}\n                />\n                <Carousel.Caption>\n                    {/* <h3>Third slide label</h3>\n                    <p>\n                    세번째\n                    </p> */}\n                </Carousel.Caption>\n            </Carousel.Item>\n        </Carousel>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}