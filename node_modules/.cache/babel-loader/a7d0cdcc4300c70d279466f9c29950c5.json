{"ast":null,"code":"import _regeneratorRuntime from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{ListGroup,Container,Row,Col,Button}from\"react-bootstrap\";import Title from\"./Title\";import{useSelector}from\"react-redux\";import EmptyCheck from\"./EmptyCheck\";import{Link}from\"react-router-dom\";import{CategoryDirection}from\"./CategoryBanner\";import{setDate,setMoney}from\"./Convenient\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Likes(_ref){var history=_ref.history;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),carts=_useState2[0],setCarts=_useState2[1];var _useSelector=useSelector(function(state){return{isLoggedIn:state.user.isLoggedIn,userData:state.user.payload};}),isLoggedIn=_useSelector.isLoggedIn,userData=_useSelector.userData;var fetchCarts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,cartList,res_product,productList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/apis/v1/carts/users/\"+userData.user_id);case 2:res=_context.sent;cartList=res.data.payload;_context.next=6;return axios.get(\"/apis/v1/product\");case 6:res_product=_context.sent;productList=res_product.data.payload;cartList=cartList.map(function(cart,index){console.log(productList);var tmp_product=productList.find(function(product){return product.pk==cart.productId;});if(!tmp_product){return;}var path=\"/product/\".concat(tmp_product.pk);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:path,style:{textDecoration:\"none\",color:\"inherit\"},children:/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{style:{margin:30},children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",lg:\"6\",xs:\"12\",children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"auto\",maxWidth:\"100%\",objectFit:\"cover\"},src:tmp_product.base64_image_url})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",lg:\"6\",xs:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:20},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"1.5rem\",fontWeight:\"bold\",marginLeft:20,paddingTop:20},children:tmp_product.name}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.3rem\",marginLeft:20},children:[\"\\uB0A8\\uC740 \\uC218\\uB7C9: \",tmp_product.quantity]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.3rem\",marginLeft:20},children:[setMoney(tmp_product.price),\" \\u20A9\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"1.3rem\",marginLeft:20},children:[\"\\uCC1C\\uD55C \\uB0A0\\uC9DC: \",setDate(cart.createdAt)]}),/*#__PURE__*/_jsx(\"br\",{})]})})]})},index)})});});setCarts(cartList);case 10:case\"end\":return _context.stop();}}},_callee);}));return function fetchCarts(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchCarts();},[userData.user_id]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(CategoryDirection,{tag1:\"찜 목록\"}),/*#__PURE__*/_jsx(EmptyCheck,{text:\"찜한 상품이 없습니다\",items:carts?carts:[]})]})});}export default Likes;","map":{"version":3,"sources":["/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/src/components/LikeList.js"],"names":["React","useState","useEffect","axios","ListGroup","Container","Row","Col","Button","Title","useSelector","EmptyCheck","Link","CategoryDirection","setDate","setMoney","Likes","history","carts","setCarts","state","isLoggedIn","user","userData","payload","fetchCarts","get","user_id","res","cartList","data","res_product","productList","map","cart","index","console","log","tmp_product","find","product","pk","productId","path","textDecoration","color","margin","height","maxWidth","objectFit","base64_image_url","marginLeft","fontSize","fontWeight","paddingTop","name","quantity","price","createdAt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { ListGroup, Container, Row, Col, Button } from \"react-bootstrap\";\nimport Title from \"./Title\";\nimport { useSelector } from \"react-redux\";\nimport EmptyCheck from \"./EmptyCheck\";\nimport { Link } from \"react-router-dom\";\nimport { CategoryDirection } from \"./CategoryBanner\";\nimport { setDate, setMoney } from \"./Convenient\";\n\nfunction Likes({ history }) {\n    const [carts, setCarts] = useState([]);\n    const { isLoggedIn, userData } = useSelector((state) => ({\n        isLoggedIn: state.user.isLoggedIn,\n        userData: state.user.payload,\n    }));\n\n    const fetchCarts = async () => {\n        let res = await axios.get(\"/apis/v1/carts/users/\" + userData.user_id);\n        let cartList = res.data.payload;\n        let res_product = await axios.get(\"/apis/v1/product\");\n\n        let productList = res_product.data.payload;\n        cartList = cartList.map((cart, index) => {\n            console.log(productList);\n            const tmp_product = productList.find(\n                (product) => product.pk == cart.productId\n            );\n            if (!tmp_product) {\n                return;\n            }\n            let path = `/product/${tmp_product.pk}`;\n            return (\n                <div>\n                    <Link\n                        to={path}\n                        style={{ textDecoration: \"none\", color: \"inherit\" }}\n                    >\n                        <ListGroup.Item key={index}>\n                            <Row style={{ margin: 30 }}>\n                                <Col sm=\"6\" lg=\"6\" xs=\"12\">\n                                    <img\n                                        style={{\n                                            height: \"auto\",\n                                            maxWidth: \"100%\",\n                                            objectFit: \"cover\",\n                                        }}\n                                        src={tmp_product.base64_image_url}\n                                    ></img>\n                                </Col>\n                                <Col sm=\"6\" lg=\"6\" xs=\"12\">\n                                    <div style={{ marginLeft: 20 }}>\n                                        <p\n                                            style={{\n                                                fontSize: \"1.5rem\",\n                                                fontWeight: \"bold\",\n                                                marginLeft: 20,\n                                                paddingTop: 20,\n                                            }}\n                                        >\n                                            {tmp_product.name}\n                                        </p>\n                                        <p\n                                            style={{\n                                                fontSize: \"1.3rem\",\n                                                marginLeft: 20,\n                                            }}\n                                        >\n                                            남은 수량: {tmp_product.quantity}\n                                        </p>\n                                        <p\n                                            style={{\n                                                fontSize: \"1.3rem\",\n                                                marginLeft: 20,\n                                            }}\n                                        >\n                                            {setMoney(tmp_product.price)} ₩\n                                        </p>\n                                        <p\n                                            style={{\n                                                fontSize: \"1.3rem\",\n                                                marginLeft: 20,\n                                            }}\n                                        >\n                                            찜한 날짜: {setDate(cart.createdAt)}\n                                        </p>\n\n                                        <br />\n                                    </div>\n                                </Col>\n                            </Row>\n                        </ListGroup.Item>\n                    </Link>\n                </div>\n            );\n        });\n\n        setCarts(cartList);\n    };\n\n    useEffect(() => {\n        fetchCarts();\n    }, [userData.user_id]);\n\n    return (\n        <div>\n            <Container>\n                <CategoryDirection tag1={\"찜 목록\"}></CategoryDirection>\n\n                <EmptyCheck\n                    text={\"찜한 상품이 없습니다\"}\n                    items={carts ? carts : []}\n                ></EmptyCheck>\n            </Container>\n        </div>\n    );\n}\n\nexport default Likes;\n"]},"metadata":{},"sourceType":"module"}