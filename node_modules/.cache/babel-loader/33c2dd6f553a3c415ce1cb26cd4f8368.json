{"ast":null,"code":"import _defineProperty from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{loginAction}from\"../modules/user\";import axios from\"axios\";import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Form,Container,Button,Row,Col}from\"react-bootstrap\";import{CategoryDirection}from\"./CategoryBanner\";import\"../App.css\";import Modal from\"./Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var history=_ref.history;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var closeModal=function closeModal(){setModalOpen(false);};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),modalContents=_useState4[0],setModalContents=_useState4[1];var dispatch=useDispatch();var _useState5=useState({username:\"\",password:\"\"}),_useState6=_slicedToArray(_useState5,2),userData=_useState6[0],setUserData=_useState6[1];var username=userData.username,password=userData.password;var onChangeHandler=function onChangeHandler(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},name,value)));};var onClickHandler=function onClickHandler(e){e.preventDefault();var body={username:username,password:password};axios.post(\"/apis/v1/user/login\",body).then(function(response){history.replace(\"/\");dispatch(loginAction(response.data.payload));}).catch(function(e){setModalOpen(true);setModalContents(\"아이디와 패스워드를 확인해 주세요\");});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Modal,{open:modalOpen,close:closeModal,children:modalContents}),/*#__PURE__*/_jsx(CategoryDirection,{tag1:\"로그인\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"1.3rem\"},children:/*#__PURE__*/_jsxs(Form,{onSubmit:onClickHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput1\",children:[/*#__PURE__*/_jsx(Col,{sm:{span:2,offset:2},lg:{span:1,offset:3},children:/*#__PURE__*/_jsx(Form.Label,{style:{margin:10},children:\"\\uC544\\uC774\\uB514\"})}),/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:0},sm:{span:8,offset:0},children:/*#__PURE__*/_jsx(Form.Control,{size:\"lg\",name:\"username\",value:username,onChange:onChangeHandler,placeholder:\"\\uC544\\uC774\\uB514\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput1\",children:[/*#__PURE__*/_jsx(Col,{sm:{span:2,offset:2},lg:{span:1,offset:3},children:/*#__PURE__*/_jsx(Form.Label,{style:{margin:5},children:\"\\uD328\\uC2A4\\uC6CC\\uB4DC\"})}),/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:0},sm:{span:8,offset:0},children:/*#__PURE__*/_jsx(Form.Control,{style:{fontFamily:\"ubuntu\"},size:\"lg\",type:\"password\",name:\"password\",value:password,onChange:onChangeHandler,placeholder:\"\\uD328\\uC2A4\\uC6CC\\uB4DC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:{span:5,offset:3},sm:{span:10,offset:2},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{style:{height:50},type:\"submit\",className:\"filledButton\",children:\"\\uB85C\\uADF8\\uC778\"})})})}),/*#__PURE__*/_jsx(Row,{style:{marginTop:15},children:/*#__PURE__*/_jsx(Col,{lg:{span:5,offset:3},sm:{span:10,offset:2},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{style:{height:50},className:\"emptyButton\",onClick:function onClick(e){e.preventDefault();history.replace(\"/register\");},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})})})})]})})]});// return (<div style ={{\n//     display : 'flex', justifyContent : 'center', alignItems: 'center',\n//     width : '100%', height : '100vh'\n// }}>\n//     <form style ={{display : 'flex', flexDirection:'column'}}\n//         onSubmit={onClickHandler}>\n//         <label>username</label>\n//         <input name = \"username\" value = {username} onChange={onChangeHandler}/>\n//         <label>Password</label>\n//         <input name = \"password\" value = {password} onChange={onChangeHandler}/>\n//         <br/>\n//         <button type = 'submit'>\n//             Login\n//         </button>\n//     </form>\n// </div>);\n}export default Login;","map":{"version":3,"sources":["/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/src/components/Login.js"],"names":["loginAction","axios","React","useState","useSelector","useDispatch","Form","Container","Button","Row","Col","CategoryDirection","Modal","Login","history","modalOpen","setModalOpen","closeModal","modalContents","setModalContents","dispatch","username","password","userData","setUserData","onChangeHandler","e","target","name","value","onClickHandler","preventDefault","body","post","then","response","replace","data","payload","catch","fontSize","span","offset","margin","fontFamily","height","marginTop"],"mappings":"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","sourcesContent":["import { loginAction } from \"../modules/user\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Form, Container, Button, Row, Col } from \"react-bootstrap\";\nimport { CategoryDirection } from \"./CategoryBanner\";\nimport \"../App.css\";\nimport Modal from \"./Modal\";\n\nfunction Login({ history }) {\n    const [modalOpen, setModalOpen] = useState(false);\n    const closeModal = () => {\n        setModalOpen(false);\n    };\n    const [modalContents, setModalContents] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const [userData, setUserData] = useState({\n        username: \"\",\n        password: \"\",\n    });\n    const { username, password } = userData;\n\n    const onChangeHandler = (e) => {\n        const { name, value } = e.target;\n        setUserData({\n            ...userData,\n            [name]: value,\n        });\n    };\n    const onClickHandler = (e) => {\n        e.preventDefault();\n        let body = {\n            username: username,\n            password: password,\n        };\n        axios\n            .post(\"/apis/v1/user/login\", body)\n            .then((response) => {\n                history.replace(\"/\");\n                dispatch(loginAction(response.data.payload));\n            })\n            .catch((e) => {\n                setModalOpen(true);\n                setModalContents(\"아이디와 패스워드를 확인해 주세요\");\n            });\n    };\n\n    return (\n        <Container>\n            <Modal open={modalOpen} close={closeModal}>\n                {modalContents}\n            </Modal>\n            <CategoryDirection tag1={\"로그인\"}></CategoryDirection>\n            <br />\n            <div style={{ fontSize: \"1.3rem\" }}>\n                <Form onSubmit={onClickHandler}>\n                    <Form.Group as={Row} controlId=\"exampleForm.ControlInput1\">\n                        <Col\n                            sm={{ span: 2, offset: 2 }}\n                            lg={{ span: 1, offset: 3 }}\n                        >\n                            <Form.Label style={{ margin: 10 }}>\n                                아이디\n                            </Form.Label>\n                        </Col>\n                        <Col\n                            lg={{ span: 4, offset: 0 }}\n                            sm={{ span: 8, offset: 0 }}\n                        >\n                            <Form.Control\n                                size=\"lg\"\n                                name=\"username\"\n                                value={username}\n                                onChange={onChangeHandler}\n                                placeholder=\"아이디를 입력해주세요\"\n                            />\n                        </Col>\n                    </Form.Group>\n                    <br />\n                    <Form.Group as={Row} controlId=\"exampleForm.ControlInput1\">\n                        <Col\n                            sm={{ span: 2, offset: 2 }}\n                            lg={{ span: 1, offset: 3 }}\n                        >\n                            <Form.Label style={{ margin: 5 }}>\n                                패스워드\n                            </Form.Label>\n                        </Col>\n                        <Col\n                            lg={{ span: 4, offset: 0 }}\n                            sm={{ span: 8, offset: 0 }}\n                        >\n                            <Form.Control\n                                style={{ fontFamily: \"ubuntu\" }}\n                                size=\"lg\"\n                                type=\"password\"\n                                name=\"password\"\n                                value={password}\n                                onChange={onChangeHandler}\n                                placeholder=\"패스워드를 입력해주세요\"\n                            />\n                        </Col>\n                    </Form.Group>\n                    <br />\n                    <Row>\n                        <Col\n                            lg={{ span: 5, offset: 3 }}\n                            sm={{ span: 10, offset: 2 }}\n                        >\n                            <div className=\"d-grid gap-2\">\n                                <button\n                                    style={{ height: 50 }}\n                                    type=\"submit\"\n                                    className=\"filledButton\"\n                                >\n                                    로그인\n                                </button>\n                            </div>\n                        </Col>\n                    </Row>\n\n                    <Row style={{ marginTop: 15 }}>\n                        <Col\n                            lg={{ span: 5, offset: 3 }}\n                            sm={{ span: 10, offset: 2 }}\n                        >\n                            <div className=\"d-grid gap-2\">\n                                <button\n                                    style={{ height: 50 }}\n                                    className=\"emptyButton\"\n                                    onClick={(e) => {\n                                        e.preventDefault();\n                                        history.replace(\"/register\");\n                                    }}\n                                >\n                                    회원가입\n                                </button>\n                            </div>\n                        </Col>\n                    </Row>\n                </Form>\n            </div>\n        </Container>\n    );\n\n    // return (<div style ={{\n    //     display : 'flex', justifyContent : 'center', alignItems: 'center',\n    //     width : '100%', height : '100vh'\n    // }}>\n    //     <form style ={{display : 'flex', flexDirection:'column'}}\n    //         onSubmit={onClickHandler}>\n    //         <label>username</label>\n    //         <input name = \"username\" value = {username} onChange={onChangeHandler}/>\n    //         <label>Password</label>\n    //         <input name = \"password\" value = {password} onChange={onChangeHandler}/>\n    //         <br/>\n    //         <button type = 'submit'>\n    //             Login\n    //         </button>\n    //     </form>\n    // </div>);\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}