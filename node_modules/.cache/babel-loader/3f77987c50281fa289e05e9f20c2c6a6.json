{"ast":null,"code":"import _defineProperty from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{ListGroup,Container,Button,Form,Row,Col}from\"react-bootstrap\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{CategoryDirection}from\"./CategoryBanner\";import{setMoney,setDate}from\"./Convenient\";import Modal from\"./Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PurchasePage(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),modalContents=_useState4[0],setModalContents=_useState4[1];var closeModal=function closeModal(){setModalOpen(false);};var _location$state=location.state,product=_location$state.product,demand_amount=_location$state.demand_amount;var _useSelector=useSelector(function(state){return{isLoggedIn:state.user.isLoggedIn,userData:state.user.payload};}),isLoggedIn=_useSelector.isLoggedIn,userData=_useSelector.userData;console.log(product);console.log(demand_amount);var _useState5=useState({address:null,email_address:null}),_useState6=_slicedToArray(_useState5,2),purchaseData=_useState6[0],setPurchaseData=_useState6[1];var address=purchaseData.address,email_address=purchaseData.email_address;var orderProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(address&&email_address){_context.next=4;break;}setModalOpen(true);setModalContents(\"모든 항목을 입력해 주세요\");return _context.abrupt(\"return\");case 4:body=_objectSpread(_objectSpread({},product),{},{product_id:product.product_id,seller_id:product.seller_id,buyer_id:userData.user_id,demand_amount:demand_amount,address:address,quantity:product.quantity,email_address:email_address});console.log(body);_context.next=8;return axios.post(\"/apis/v1/order\",body).then(function(res){history.replace(\"/orderlist\");}).catch(function(e){// 정보가 없을 때 처리\nalert(\"주문에 실패하였습니다. 관리자에게 문의해 주세요\");});case 8:case\"end\":return _context.stop();}}},_callee);}));return function orderProduct(){return _ref2.apply(this,arguments);};}();var onClickOrder=function onClickOrder(){if(isLoggedIn===false){alert(\"로그인 후 이용하세요.\");return;}orderProduct();};var onChangeHandler=function onChangeHandler(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setPurchaseData(_objectSpread(_objectSpread({},purchaseData),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{open:modalOpen,close:closeModal,children:modalContents}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(CategoryDirection,{tag1:product.category,tag2:product.name,tag3:\"구매하기\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"1.6rem\",fontWeight:\"bold\",margin:15},children:\"\\uC0C1\\uD488 \\uC815\\uBCF4\\uB97C \\uD655\\uC778\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Form,{style:{fontSize:\"1.3rem\"},children:[/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"formPlaintextEmail\",children:[/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:1},sm:{span:4,offset:1},xs:{span:5,offset:1},children:/*#__PURE__*/_jsx(Form.Label,{style:{padding:5},children:\"\\uCE74\\uD14C\\uACE0\\uB9AC\"})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",sm:\"6\",xs:\"6\",children:/*#__PURE__*/_jsx(Form.Control,{style:{fontSize:\"1.3rem\"},plaintext:true,readOnly:true,defaultValue:product.category})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,className:\"mb-3\",controlId:\"formPlaintextEmail\",children:[/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:1},sm:{span:4,offset:1},xs:{span:5,offset:1},children:/*#__PURE__*/_jsx(Form.Label,{style:{padding:5},children:\"\\uC0C1\\uD488\\uBA85\"})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",sm:\"6\",xs:\"6\",children:/*#__PURE__*/_jsx(Form.Control,{style:{fontSize:\"1.3rem\"},plaintext:true,readOnly:true,defaultValue:product.name})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,className:\"mb-3\",controlId:\"formPlaintextEmail\",children:[/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:1},sm:{span:4,offset:1},xs:{span:5,offset:1},children:/*#__PURE__*/_jsx(Form.Label,{style:{padding:5},children:\"\\uC0C1\\uD488 \\uAC00\\uACA9\"})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",sm:\"6\",xs:\"6\",children:/*#__PURE__*/_jsx(Form.Control,{style:{fontSize:\"1.3rem\"},plaintext:true,readOnly:true,defaultValue:setMoney(product.price)})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,className:\"mb-3\",controlId:\"formPlaintextEmail\",children:[/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:1},sm:{span:4,offset:1},xs:{span:5,offset:1},children:/*#__PURE__*/_jsx(Form.Label,{style:{padding:5},children:\"\\uC0C1\\uD488 \\uC218\\uB7C9\"})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",sm:\"6\",xs:\"6\",children:/*#__PURE__*/_jsx(Form.Control,{style:{fontSize:\"1.3rem\"},plaintext:true,readOnly:true,defaultValue:product.quantity})})]})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"1.6rem\",fontWeight:\"bold\",marginTop:50,margin:15},children:\"\\uAD6C\\uB9E4 \\uC815\\uBCF4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput1\",children:[/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:1},sm:{span:4,offset:1},xs:{span:5,offset:1},children:/*#__PURE__*/_jsx(Form.Label,{style:{fontSize:\"1.3rem\",margin:10},children:\"\\uAD6C\\uB9E4 \\uC218\\uB7C9\"})}),/*#__PURE__*/_jsx(Col,{lg:\"2\",sm:\"2\",xs:\"4\",children:/*#__PURE__*/_jsx(Form.Control,{name:\"demand_amount\",value:demand_amount,disabled:true})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput1\",children:[/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:1},sm:{span:4,offset:1},xs:{span:5,offset:1},children:/*#__PURE__*/_jsx(Form.Label,{style:{fontSize:\"1.3rem\",margin:10},children:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\"})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",sm:\"6\",xs:\"6\",children:/*#__PURE__*/_jsx(Form.Control,{name:\"email_address\",value:email_address,onChange:onChangeHandler,placeholder:\"\\uAC70\\uB798 \\uC815\\uBCF4\\uB97C \\uBC1B\\uC744 \\uC774\\uBA54\\uC77C\\uC744 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput1\",children:[/*#__PURE__*/_jsx(Col,{lg:{span:4,offset:1},sm:{span:4,offset:1},xs:{span:5,offset:1},children:/*#__PURE__*/_jsx(Form.Label,{style:{fontSize:\"1.3rem\",margin:10},children:\"\\uAC70\\uB798 \\uC7A5\\uC18C\"})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",sm:\"6\",xs:\"6\",children:/*#__PURE__*/_jsx(Form.Control,{name:\"address\",value:address,onChange:onChangeHandler,placeholder:\"\\uAC70\\uB798 \\uC120\\uD638 \\uC9C0\\uC5ED\\uC744 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\"})})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(Col,{lg:{span:6,offset:5},sm:{span:6,offset:5},xs:{span:12},children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\uCD1D \\uAC00\\uACA9: \",product.price*demand_amount,\"\\uC6D0\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{style:{fontSize:\"1.4rem\"},className:\"emptyButton\",onClick:onClickOrder,children:\"\\uAD6C\\uB9E4\\uD558\\uAE30\"})]})]})]})]})]});}export default PurchasePage;","map":{"version":3,"sources":["/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/src/components/PurchasePage.js"],"names":["ListGroup","Container","Button","Form","Row","Col","axios","useEffect","useState","useSelector","CategoryDirection","setMoney","setDate","Modal","PurchasePage","location","history","modalOpen","setModalOpen","modalContents","setModalContents","closeModal","state","product","demand_amount","isLoggedIn","user","userData","payload","console","log","address","email_address","purchaseData","setPurchaseData","orderProduct","body","product_id","seller_id","buyer_id","user_id","quantity","post","then","res","replace","catch","e","alert","onClickOrder","onChangeHandler","target","name","value","category","fontSize","fontWeight","margin","span","offset","padding","price","marginTop"],"mappings":"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","sourcesContent":["import { ListGroup, Container, Button, Form, Row, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CategoryDirection } from \"./CategoryBanner\";\nimport { setMoney, setDate } from \"./Convenient\";\nimport Modal from \"./Modal\";\n\nfunction PurchasePage({ location, history }) {\n    const [modalOpen, setModalOpen] = useState(false);\n\n    const [modalContents, setModalContents] = useState(\"\");\n    const closeModal = () => {\n        setModalOpen(false);\n    };\n    const { product, demand_amount } = location.state;\n    const { isLoggedIn, userData } = useSelector((state) => ({\n        isLoggedIn: state.user.isLoggedIn,\n        userData: state.user.payload,\n    }));\n    console.log(product);\n    console.log(demand_amount);\n\n    const [purchaseData, setPurchaseData] = useState({\n        address: null,\n        email_address: null,\n    });\n    const { address, email_address } = purchaseData;\n\n    const orderProduct = async () => {\n        if (!(address && email_address)) {\n            setModalOpen(true);\n            setModalContents(\"모든 항목을 입력해 주세요\");\n            return;\n        }\n        let body = {\n            ...product,\n            product_id: product.product_id,\n            seller_id: product.seller_id,\n            buyer_id: userData.user_id,\n            demand_amount: demand_amount,\n            address: address,\n            quantity: product.quantity,\n            email_address: email_address,\n        };\n        console.log(body);\n        await axios\n            .post(\"/apis/v1/order\", body)\n            .then((res) => {\n                history.replace(\"/orderlist\");\n            })\n            .catch((e) => {\n                // 정보가 없을 때 처리\n                alert(\"주문에 실패하였습니다. 관리자에게 문의해 주세요\");\n            });\n    };\n\n    const onClickOrder = () => {\n        if (isLoggedIn === false) {\n            alert(\"로그인 후 이용하세요.\");\n            return;\n        }\n        orderProduct();\n    };\n\n    const onChangeHandler = (e) => {\n        const { name, value } = e.target;\n        setPurchaseData({\n            ...purchaseData,\n            [name]: value,\n        });\n    };\n\n    return (\n        <div>\n            <Modal open={modalOpen} close={closeModal}>\n                {modalContents}\n            </Modal>\n            <Container>\n                <CategoryDirection\n                    tag1={product.category}\n                    tag2={product.name}\n                    tag3={\"구매하기\"}\n                ></CategoryDirection>\n                <br />\n                <p\n                    style={{\n                        fontSize: \"1.6rem\",\n                        fontWeight: \"bold\",\n                        margin: 15,\n                    }}\n                >\n                    상품 정보를 확인하세요\n                </p>\n                <hr />\n                <Row>\n                    <Form style={{ fontSize: \"1.3rem\" }}>\n                        <Form.Group as={Row} controlId=\"formPlaintextEmail\">\n                            <Col\n                                lg={{ span: 4, offset: 1 }}\n                                sm={{ span: 4, offset: 1 }}\n                                xs={{ span: 5, offset: 1 }}\n                            >\n                                <Form.Label style={{ padding: 5 }}>\n                                    카테고리\n                                </Form.Label>\n                            </Col>\n\n                            <Col lg=\"4\" sm=\"6\" xs=\"6\">\n                                <Form.Control\n                                    style={{ fontSize: \"1.3rem\" }}\n                                    plaintext\n                                    readOnly\n                                    defaultValue={product.category}\n                                />\n                            </Col>\n                        </Form.Group>\n                        <Form.Group\n                            as={Row}\n                            className=\"mb-3\"\n                            controlId=\"formPlaintextEmail\"\n                        >\n                            <Col\n                                lg={{ span: 4, offset: 1 }}\n                                sm={{ span: 4, offset: 1 }}\n                                xs={{ span: 5, offset: 1 }}\n                            >\n                                <Form.Label style={{ padding: 5 }}>\n                                    상품명\n                                </Form.Label>\n                            </Col>\n\n                            <Col lg=\"4\" sm=\"6\" xs=\"6\">\n                                <Form.Control\n                                    style={{ fontSize: \"1.3rem\" }}\n                                    plaintext\n                                    readOnly\n                                    defaultValue={product.name}\n                                />\n                            </Col>\n                        </Form.Group>\n                        <Form.Group\n                            as={Row}\n                            className=\"mb-3\"\n                            controlId=\"formPlaintextEmail\"\n                        >\n                            <Col\n                                lg={{ span: 4, offset: 1 }}\n                                sm={{ span: 4, offset: 1 }}\n                                xs={{ span: 5, offset: 1 }}\n                            >\n                                <Form.Label style={{ padding: 5 }}>\n                                    상품 가격\n                                </Form.Label>\n                            </Col>\n\n                            <Col lg=\"4\" sm=\"6\" xs=\"6\">\n                                <Form.Control\n                                    style={{ fontSize: \"1.3rem\" }}\n                                    plaintext\n                                    readOnly\n                                    defaultValue={setMoney(product.price)}\n                                />\n                            </Col>\n                        </Form.Group>\n                        <Form.Group\n                            as={Row}\n                            className=\"mb-3\"\n                            controlId=\"formPlaintextEmail\"\n                        >\n                            <Col\n                                lg={{ span: 4, offset: 1 }}\n                                sm={{ span: 4, offset: 1 }}\n                                xs={{ span: 5, offset: 1 }}\n                            >\n                                <Form.Label style={{ padding: 5 }}>\n                                    상품 수량\n                                </Form.Label>\n                            </Col>\n\n                            <Col lg=\"4\" sm=\"6\" xs=\"6\">\n                                <Form.Control\n                                    style={{ fontSize: \"1.3rem\" }}\n                                    plaintext\n                                    readOnly\n                                    defaultValue={product.quantity}\n                                />\n                            </Col>\n                        </Form.Group>\n                    </Form>\n\n                    <p\n                        style={{\n                            fontSize: \"1.6rem\",\n                            fontWeight: \"bold\",\n                            marginTop: 50,\n                            margin: 15,\n                        }}\n                    >\n                        구매 정보를 입력하세요\n                    </p>\n                    <hr />\n\n                    <Form>\n                        <Form.Group\n                            as={Row}\n                            controlId=\"exampleForm.ControlInput1\"\n                        >\n                            <Col\n                                lg={{ span: 4, offset: 1 }}\n                                sm={{ span: 4, offset: 1 }}\n                                xs={{ span: 5, offset: 1 }}\n                            >\n                                <Form.Label\n                                    style={{ fontSize: \"1.3rem\", margin: 10 }}\n                                >\n                                    구매 수량\n                                </Form.Label>\n                            </Col>\n\n                            <Col lg=\"2\" sm=\"2\" xs=\"4\">\n                                <Form.Control\n                                    name=\"demand_amount\"\n                                    value={demand_amount}\n                                    disabled\n                                />\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group\n                            as={Row}\n                            controlId=\"exampleForm.ControlInput1\"\n                        >\n                            <Col\n                                lg={{ span: 4, offset: 1 }}\n                                sm={{ span: 4, offset: 1 }}\n                                xs={{ span: 5, offset: 1 }}\n                            >\n                                <Form.Label\n                                    style={{ fontSize: \"1.3rem\", margin: 10 }}\n                                >\n                                    이메일 주소\n                                </Form.Label>\n                            </Col>\n\n                            <Col lg=\"6\" sm=\"6\" xs=\"6\">\n                                <Form.Control\n                                    name=\"email_address\"\n                                    value={email_address}\n                                    onChange={onChangeHandler}\n                                    placeholder=\"거래 정보를 받을 이메일을 적어주세요\"\n                                />\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group\n                            as={Row}\n                            controlId=\"exampleForm.ControlInput1\"\n                        >\n                            <Col\n                                lg={{ span: 4, offset: 1 }}\n                                sm={{ span: 4, offset: 1 }}\n                                xs={{ span: 5, offset: 1 }}\n                            >\n                                <Form.Label\n                                    style={{ fontSize: \"1.3rem\", margin: 10 }}\n                                >\n                                    거래 장소\n                                </Form.Label>\n                            </Col>\n                            <Col lg=\"6\" sm=\"6\" xs=\"6\">\n                                <Form.Control\n                                    name=\"address\"\n                                    value={address}\n                                    onChange={onChangeHandler}\n                                    placeholder=\"거래 선호 지역을 적어주세요\"\n                                />\n                            </Col>\n                        </Form.Group>\n\n                        <br />\n                    </Form>\n                    <Col\n                        lg={{ span: 6, offset: 5 }}\n                        sm={{ span: 6, offset: 5 }}\n                        xs={{ span: 12 }}\n                    >\n                        <h1>총 가격: {product.price * demand_amount}원</h1>\n                        <div className=\"d-grid gap-2\">\n                            <br />\n                            <button\n                                style={{ fontSize: \"1.4rem\" }}\n                                className=\"emptyButton\"\n                                onClick={onClickOrder}\n                            >\n                                구매하기\n                            </button>\n                        </div>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n\nexport default PurchasePage;\n"]},"metadata":{},"sourceType":"module"}