{"ast":null,"code":"import _regeneratorRuntime from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useSelector}from\"react-redux\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{Container}from\"react-bootstrap\";import{EmptyCheckProductByCategory}from\"./EmptyCheck\";import{CategoryDirection}from\"./CategoryBanner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductByCategory(_ref){var match=_ref.match;var _useSelector=useSelector(function(state){return{kind:state.category.payload};}),kind=_useSelector.kind;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var fetchProducts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,filtered_product_list,product_list;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/apis/v1/category/\"+match.params.number);case 2:res=_context.sent;filtered_product_list=res.data.payload.filter(function(product){return product.valid==true;});product_list=filtered_product_list.map(function(data){return _objectSpread(_objectSpread({},data),{},{id:data.pk});});setProducts(product_list);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchProducts();},[match.params.number]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(CategoryDirection,{tag1:kind[kind.findIndex(function(k){return k.pk==match.params.number;})].kind}),/*#__PURE__*/_jsx(EmptyCheckProductByCategory,{text:\"\\uB4F1\\uB85D\\uB41C \\uBB3C\\uAC74\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\",items:products})]})});}export default ProductByCategory;","map":{"version":3,"sources":["/home/seungju_oh@tmax.co.kr/seung/all-in-one/All-In-One-front/src/components/ProductByCategory.js"],"names":["useSelector","axios","React","useEffect","useState","Container","EmptyCheckProductByCategory","CategoryDirection","ProductByCategory","match","state","kind","category","payload","products","setProducts","fetchProducts","get","params","number","res","filtered_product_list","data","filter","product","valid","product_list","map","id","pk","findIndex","k"],"mappings":"4sBAAA,OAASA,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,OAASC,2BAAT,KAA4C,cAA5C,CACA,OAASC,iBAAT,KAAkC,kBAAlC,C,wFAEA,QAASC,CAAAA,iBAAT,MAAsC,IAATC,CAAAA,KAAS,MAATA,KAAS,CAClC,iBAAiBT,WAAW,CAAC,SAACU,KAAD,QAAY,CACrCC,IAAI,CAAED,KAAK,CAACE,QAAN,CAAeC,OADgB,CAAZ,EAAD,CAA5B,CAAQF,IAAR,cAAQA,IAAR,CAGA,cAAgCP,QAAQ,CAAC,EAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,aAAa,2FAAG,oMACFf,CAAAA,KAAK,CAACgB,GAAN,CAAU,qBAAuBR,KAAK,CAACS,MAAN,CAAaC,MAA9C,CADE,QACdC,GADc,eAEdC,qBAFc,CAEUD,GAAG,CAACE,IAAJ,CAAST,OAAT,CAAiBU,MAAjB,CACxB,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACC,KAAR,EAAiB,IAA9B,EADwB,CAFV,CAKdC,YALc,CAKCL,qBAAqB,CAACM,GAAtB,CAA0B,SAACL,IAAD,CAAU,CACnD,sCACOA,IADP,MAEIM,EAAE,CAAEN,IAAI,CAACO,EAFb,GAIH,CALkB,CALD,CAWlBd,WAAW,CAACW,YAAD,CAAX,CAXkB,sDAAH,kBAAbV,CAAAA,aAAa,2CAAnB,CAcAb,SAAS,CAAC,UAAM,CACZa,aAAa,GAChB,CAFQ,CAEN,CAACP,KAAK,CAACS,MAAN,CAAaC,MAAd,CAFM,CAAT,CAIA,mBACI,kCACI,MAAC,SAAD,yBACI,KAAC,iBAAD,EACI,IAAI,CACAR,IAAI,CAACA,IAAI,CAACmB,SAAL,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACF,EAAF,EAAQpB,KAAK,CAACS,MAAN,CAAaC,MAA5B,EAAf,CAAD,CAAJ,CACKR,IAHb,EADJ,cAQI,KAAC,2BAAD,EACI,IAAI,CAAC,iEADT,CAEI,KAAK,CAAEG,QAFX,EARJ,GADJ,EADJ,CAiBH,CAED,cAAeN,CAAAA,iBAAf","sourcesContent":["import { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { EmptyCheckProductByCategory } from \"./EmptyCheck\";\nimport { CategoryDirection } from \"./CategoryBanner\";\n\nfunction ProductByCategory({ match }) {\n    const { kind } = useSelector((state) => ({\n        kind: state.category.payload,\n    }));\n    const [products, setProducts] = useState([]);\n\n    const fetchProducts = async () => {\n        let res = await axios.get(\"/apis/v1/category/\" + match.params.number);\n        let filtered_product_list = res.data.payload.filter(\n            (product) => product.valid == true\n        );\n        let product_list = filtered_product_list.map((data) => {\n            return {\n                ...data,\n                id: data.pk,\n            };\n        });\n        setProducts(product_list);\n    };\n\n    useEffect(() => {\n        fetchProducts();\n    }, [match.params.number]);\n\n    return (\n        <div>\n            <Container>\n                <CategoryDirection\n                    tag1={\n                        kind[kind.findIndex((k) => k.pk == match.params.number)]\n                            .kind\n                    }\n                ></CategoryDirection>\n\n                <EmptyCheckProductByCategory\n                    text=\"등록된 물건이 없습니다.\"\n                    items={products}\n                ></EmptyCheckProductByCategory>\n            </Container>\n        </div>\n    );\n}\n\nexport default ProductByCategory;\n"]},"metadata":{},"sourceType":"module"}